# üß© What Are Microservices?

---

## üéØ Official Definition (No Boring Stuff)

Microservices are a **software architectural style** where an application is built as a **collection of small, autonomous services** that:

- Run **independently**
- Own their **own data**
- Communicate over **lightweight APIs** (REST, gRPC, or messaging)
- Are **independently deployable**

Think of it like building with LEGO üß±: each block has a clear function, but together they make a castle.

---

## üè∞ Problem Scenario ‚Äì The Pizza Company üçï

Imagine you‚Äôre hired at **PizzaTown Inc.**, and they have an _old-school monolith_ for their online ordering system.

### The Monolith Setup

- **One codebase** handling:
  üçï Orders
  üë®‚Äçüíº Customers
  üí≥ Payments
  üì¶ Delivery tracking
- **One database** (giant `PizzaDB`) with 200 tables.
- **One deployment** (drop everything in IIS/Azure App Service).

üëâ Problem? If you just want to add ‚ÄúPayPal payments,‚Äù you must redeploy the **whole monolith**, test every single part, and risk breaking deliveries üçï. Scaling is worse: when customers flood the system during _World Pizza Day_, you have to scale the **entire app**, not just Payments.

---

## üîÑ Enter Microservices

Instead of one monster app, you split by **business capability**:

- **Orders Service** ‚Üí handles pizza orders.
- **Payments Service** ‚Üí handles credit card, PayPal, ApplePay.
- **Delivery Service** ‚Üí tracks the pizza rider.
- **Customer Service** ‚Üí stores customer profiles.

Each service:

- Has its **own DB** (PaymentsDB, OrdersDB, etc).
- Deploys **independently** (bug fix in Payments ‚â† redeploy Orders).
- Can **scale individually** (Payments can scale 10√ó on World Pizza Day; Delivery stays the same).

---

## ‚öîÔ∏è Monolith vs Microservices (Exam Favorite)

| Feature        | Monolith üè∞     | Microservices üß©      |
| -------------- | --------------- | --------------------- |
| Codebase       | Single big one  | Many small            |
| Database       | Shared DB       | Per service           |
| Deployment     | One artifact    | Independent           |
| Scaling        | All or nothing  | Per service           |
| Failure        | Domino effect   | Isolated (ideally)    |
| Team Ownership | Big shared team | Small, focused squads |

üëâ **If you see a Q like:** _‚ÄúWhich approach gives team autonomy & independent deployments?‚Äù_ ‚Üí **Microservices**.

---

## üß≠ Core Principles (easy mnemonic: **IDEAL**)

- **I ‚Äì Independent deployability**
- **D ‚Äì Decentralized data** (each service owns its schema)
- **E ‚Äì Elastic scaling** (scale what‚Äôs hot)
- **A ‚Äì API-based communication** (REST, gRPC, Messaging)
- **L ‚Äì Loose coupling** (services don‚Äôt need each other‚Äôs guts)

---

## üñº Diagram ‚Äì PizzaTown Microservices

```mermaid
flowchart LR
UI[Pizza Web/App] --> API[API Gateway]

API --> O[Orders Service]
API --> P[Payments Service]
API --> D[Delivery Service]
API --> C[Customer Service]

O --> OrdersDB[(Orders DB)]
P --> PaymentsDB[(Payments DB)]
D --> DeliveryDB[(Delivery DB)]
C --> CustomerDB[(Customer DB)]
```

---

## üß† Problem-Based Qs You Might See

1. **Q:** The app has grown so big that adding a payment method requires redeploying the whole system. Which architecture solves this?
   **A:** Microservices (independent deployment).

2. **Q:** In a microservices system, should all services share the same DB schema for consistency?
   **A:** No ‚ùå ‚Äî each service owns its data.

3. **Q:** On Black Friday, only the Payment system is overloaded. What scaling approach works best?
   **A:** Microservices ‚Üí scale Payments service only.

4. **Q:** Which architecture is easiest for small teams and early startups?
   **A:** Monolith (simple to start, less ops overhead).

---

## ‚ö†Ô∏è Pitfalls & Real-Life Tradeoffs

- Microservices aren‚Äôt free ü§ë ‚Äî more moving parts, CI/CD pipelines, and monitoring needed.
- Great for **large, complex systems** with multiple teams.
- Overkill for a simple CRUD app with 2 devs (just use monolith until needed).

---

## ‚úÖ Exam Takeaways (Sticky Notes)

- Microservices = **independently deployable, loosely coupled services with their own DBs**.
- Always contrast with **monolith** in terms of **scaling, failures, deployments, DB ownership**.
- Use microservices when system is **large, fast-moving, multi-team**.
- Don‚Äôt forget the **PizzaTown story** ‚Äî exam scenarios often mimic this pattern.
